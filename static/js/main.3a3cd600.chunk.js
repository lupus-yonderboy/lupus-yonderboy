(this["webpackJsonplupus-yonderboy"]=this["webpackJsonplupus-yonderboy"]||[]).push([[0],{110:function(t,e){},120:function(t,e,n){},121:function(t,e,n){"use strict";n.r(e);var a=n(0),s=n.n(a),o=n(22),r=n.n(o),c=n(24),i={posts:[],post:{}},u=n(17),l=n(15),p=n(7),h=(n(70),function(t){var e=t.children;return s.a.createElement("div",{className:"header"},e)}),m=n(10),f=n(11),d=n(13),v=n(12),b=n(14),y=(n(71),function(t){var e=t.children;return s.a.createElement("div",{className:"container"},s.a.createElement("div",null,e))}),E=function(t){return{type:"SET_POSTS",posts:t}},O=function(t){return{type:"SET_POST",post:t}},j=n(60),P=function(){var t="https://lupus-yonderboy-go-env.wv5mqwfbqj.us-east-1.elasticbeanstalk.com/",e=fetch(t+"posts").then((function(t){return t.json()})),n=fetch(t+"authors").then((function(t){return t.json()}));return Promise.all([e,n]).then((function(t){return function(t){var e=t.postsRes,n=t.authorsRes,a={},s=[],o=!0,r=!1,c=void 0;try{for(var i,u=n[Symbol.iterator]();!(o=(i=u.next()).done);o=!0){var l=i.value;a[l.Id]=l.Name}}catch(b){r=!0,c=b}finally{try{o||null==u.return||u.return()}finally{if(r)throw c}}var p=!0,h=!1,m=void 0;try{for(var f,d=e[Symbol.iterator]();!(p=(f=d.next()).done);p=!0){var v=f.value;s.push(Object(j.a)({_authorName:a[v.Author]},v))}}catch(b){h=!0,m=b}finally{try{p||null==d.return||d.return()}finally{if(h)throw m}}return s}({postsRes:t[0],authorsRes:t[1]})}))},g=function(t){function e(){return Object(m.a)(this,e),Object(d.a)(this,Object(v.a)(e).apply(this,arguments))}return Object(b.a)(e,t),Object(f.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.props.posts.length||P().then((function(e){t.props.setPosts(e)}))}},{key:"render",value:function(){return s.a.createElement(y,null,'"Chaos, Mr. Who," Lupus Yonderboy said. "That is our mode and modus. That is our central kick."')}}]),e}(a.Component),S=Object(p.b)((function(t){return{posts:t.posts}}),(function(t){return{setPosts:function(e){return t(E(e))}}}))(g),k=function(t){function e(){return Object(m.a)(this,e),Object(d.a)(this,Object(v.a)(e).apply(this,arguments))}return Object(b.a)(e,t),Object(f.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.props.posts.length||P().then((function(e){t.props.setPosts(e)}))}},{key:"render",value:function(){return s.a.createElement(y,null,"Hi.")}}]),e}(a.Component),D=Object(p.b)((function(t){return{posts:t.posts}}),(function(t){return{setPosts:function(e){return t(E(e))}}}))(k),N=n(20),T=n(58),M=(n(56),function(t,e){return t.find((function(t){return t.Id===e}))}),C=function(t){function e(t){var n;return Object(m.a)(this,e),(n=Object(d.a)(this,Object(v.a)(e).call(this,t))).state={loading:null,time:null,error:null},n}return Object(b.a)(e,t),Object(f.a)(e,[{key:"componentDidMount",value:function(){var t=this;if(this.props.posts.length){var e=parseInt(this.props.match.params.postId),n=M(this.props.posts,e);this.props.setPost(n)}else{this.setState({loading:!0}),function e(n){setTimeout((function(){t.state.loading&&(n+=10,t.setState({time:n}),e(n))}),10)}(0),P().then((function(e){var n=parseInt(t.props.match.params.postId),a=M(e,n);t.props.setPost(a),t.props.setPosts(e)})).catch((function(){t.setState({error:":("})})).finally((function(){t.setState({loading:!1})}))}}},{key:"componentDidUpdate",value:function(t){if(this.props.location!==t.location){var e=parseInt(this.props.match.params.postId),n=M(this.props.posts,e);this.props.setPost(n)}}},{key:"render",value:function(){var t=new T.Parser;return s.a.createElement(y,null,this.state.loading?this.state.time:this.state.error,this.state.loading?null:s.a.createElement("div",null,s.a.createElement("div",{className:"title"},this.props.post.Title),s.a.createElement("div",{className:"author"},this.props.post._authorName),s.a.createElement("div",{className:"date"},N(this.props.post.DateCreated).utc().format("MMM DD, YYYY [at] hh:mma")," ",this.props.post.DateUpdated===this.props.post.DateCreated?null:"| updated ".concat(N(this.props.post.DateUpdated).utc().format("MMM DD, YYYY [at] hh:mma"))," UTC"),s.a.createElement("div",{className:"content"},t.parse(this.props.post.Content))))}}]),e}(a.Component),Y=Object(p.b)((function(t){return{posts:t.posts,post:t.post}}),(function(t){return{setPosts:function(e){return t(E(e))},setPost:function(e){return t(O(e))}}}))(C),I=function(t){function e(t){var n;return Object(m.a)(this,e),(n=Object(d.a)(this,Object(v.a)(e).call(this,t))).state={loading:null,time:null,error:null},n}return Object(b.a)(e,t),Object(f.a)(e,[{key:"setPost",value:function(t){this.props.setPost(t)}},{key:"renderPosts",value:function(t){var e=this;return t.sort((function(t,e){return new Date(e.DateCreated)-new Date(t.DateCreated)})).map((function(t){var n=t.Content.replace(/<p>/g,"").replace(/<\/p>/g,"");return s.a.createElement("div",{key:t.Id},s.a.createElement(u.b,{to:"/posts/".concat(t.Id),onClick:function(){return e.setPost(t)},className:"title"},t.Title),s.a.createElement("div",{className:"author"},t.hasOwnProperty("_authorName")?t._authorName:"?"," | ".concat(N(t.DateCreated).utc().format("MMM DD, YYYY"))),s.a.createElement("div",{className:"content"},n.slice(0,230)+"..."))}))}},{key:"componentDidMount",value:function(){var t=this;if(!this.props.posts.length){this.setState({loading:!0}),function e(n){setTimeout((function(){t.state.loading&&(n+=10,t.setState({time:n}),e(n))}),10)}(0),P().then((function(e){t.props.setPosts(e)})).catch((function(){t.setState({error:":("})})).finally((function(){t.setState({loading:!1})}))}}},{key:"render",value:function(){return s.a.createElement(y,null,this.state.loading?this.state.time:this.state.error,this.state.loading?null:this.renderPosts(this.props.posts))}}]),e}(a.Component),w=Object(p.b)((function(t){return{posts:t.posts,post:t.post}}),(function(t){return{setPosts:function(e){return t(E(e))},setPost:function(e){return t(O(e))}}}))(I),_=(n(120),document.getElementById("root")),U=Object(c.b)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_POSTS":return Object.assign({},t,{posts:e.posts});case"SET_POST":return Object.assign({},t,{post:e.post});default:return t}}));r.a.render(s.a.createElement((function(t){return s.a.createElement(p.a,{store:t.store},s.a.createElement(u.a,null,s.a.createElement(h,null,s.a.createElement("div",null,s.a.createElement("span",{className:"header-span"},s.a.createElement(u.b,{to:"/",className:"header-link"},"HOME")),s.a.createElement("span",{className:"header-span"},s.a.createElement(u.b,{to:"/about",className:"header-link"},"ABOUT")),s.a.createElement("span",{className:"header-span"},s.a.createElement(u.b,{to:"/posts",className:"header-link"},"POSTS")))),s.a.createElement(l.c,null,s.a.createElement(l.a,{exact:!0,path:"/",component:D}),s.a.createElement(l.a,{path:"/about",component:S}),s.a.createElement(l.a,{path:"/posts/:postId",component:Y}),s.a.createElement(l.a,{path:"/posts",component:w}))))}),{store:U}),_)},56:function(t,e,n){},61:function(t,e,n){t.exports=n(121)},70:function(t,e,n){},71:function(t,e,n){}},[[61,1,2]]]);
//# sourceMappingURL=main.3a3cd600.chunk.js.map
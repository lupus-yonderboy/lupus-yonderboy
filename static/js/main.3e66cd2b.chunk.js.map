{"version":3,"sources":["reducers.js","Header.js","Container.js","actions.js","fetchPostsAndAuthors.js","About.js","Home.js","getPost.js","Post.js","Posts.js","index.js","App.js"],"names":["initialState","posts","post","Header","children","className","Container","setPosts","type","setPost","fetchPostsAndAuthors","url","fetchPosts","fetch","then","res","json","fetchAuthors","Promise","all","postsRes","authorsRes","authors","author","Id","Name","push","_authorName","Author","associatePostsWithAuthors","About","this","props","length","Component","connect","state","dispatch","Home","getPost","id","find","p","Post","loading","time","error","setState","timer","setTimeout","parseInt","match","params","postId","catch","finally","prevProps","location","Title","Content","Posts","map","key","to","onClick","hasOwnProperty","slice","renderPosts","rootElement","document","getElementById","store","createStore","action","Object","assign","ReactDOM","render","exact","path","component"],"mappings":"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","file":"static/js/main.3e66cd2b.chunk.js","sourcesContent":["const initialState = {\n  posts: [],\n  post: {},\n};\n\nexport const reducers = (state = initialState, action) => {\n  switch (action.type) {\n    case 'SET_POSTS':\n      return Object.assign({}, state, { posts: action.posts });\n    case 'SET_POST':\n      return Object.assign({}, state, { post: action.post });\n    default:\n      return state;\n  }\n};\n","import React from 'react';\n\nimport './Header.css';\n\nexport const Header = ({ children }) => {\n  return (\n    <div className='header'>\n        {children}\n    </div>\n  );\n};\n","import React from 'react';\n\nimport './Container.css';\n\nexport const Container = ({ children }) => {\n  return (\n    <div className='container'>\n      <div>\n        {children}\n      </div>\n    </div>\n  );\n};\n","export const setPosts = (posts) => ({\n  type: 'SET_POSTS',\n  posts\n});\n\nexport const setPost = (post) => ({\n  type: 'SET_POST',\n  post\n});\n","export const fetchPostsAndAuthors = () => {\n  const environment = process.env.NODE_ENV || 'production';\n  const url = environment === 'production'\n    ? 'https://lupus-yonderboy-go-env.wv5mqwfbqj.us-east-1.elasticbeanstalk.com/'\n    : 'http://localhost:5000/';\n\n  const fetchPosts = fetch(url + 'posts')\n    .then((res) => res.json());\n\n  const fetchAuthors = fetch(url + 'authors')\n    .then((res) => res.json());\n\n  const associatePostsWithAuthors = ({ postsRes, authorsRes }) => {\n    const authors = {};\n    const posts = [];\n    for (let author of authorsRes) {\n      authors[author.Id] = author.Name;\n    }\n    for (let post of postsRes) {\n      posts.push({\n        _authorName: authors[post.Author],\n        ...post,\n      });\n    }\n    return posts;\n  };\n\n  const fetchAll = () => Promise.all([fetchPosts, fetchAuthors])\n    .then((res) => {\n      return associatePostsWithAuthors({\n          postsRes: res[0],\n          authorsRes: res[1],\n        });\n      });\n\n  return fetchAll();\n};\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Container } from './Container';\nimport { setPosts } from './actions';\nimport { fetchPostsAndAuthors } from './fetchPostsAndAuthors';\n\nclass About extends Component {\n  componentDidMount() {\n    if (this.props.posts.length) {\n      return;\n    }\n\n    fetchPostsAndAuthors()\n      .then((posts) => {\n        this.props.setPosts(posts);\n      });\n  }\n\n  render() {\n    return (\n      <Container>\n        \"Chaos, Mr. Who,\" Lupus Yonderboy said. \"That is our mode and modus. That is our central kick.\"\n      </Container>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  posts: state.posts,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  setPosts: (posts) => {\n    return dispatch(setPosts(posts));\n  },\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(About);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Container } from './Container';\nimport { setPosts } from './actions';\nimport { fetchPostsAndAuthors } from './fetchPostsAndAuthors';\n\nclass Home extends Component {\n  componentDidMount() {\n    if (this.props.posts.length) {\n      return;\n    }\n\n    fetchPostsAndAuthors()\n      .then((posts) => {\n        this.props.setPosts(posts);\n      });\n  }\n\n  render() {\n    return (\n      <Container>\n        Hi.\n      </Container>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  posts: state.posts,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  setPosts: (posts) => {\n    return dispatch(setPosts(posts));\n  },\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Home);\n","export const getPost = (posts, id) => {\n  return posts.find((p) => {\n    return p.Id === id;\n  });\n};\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Container } from './Container';\nimport './Posts.css'\nimport {\n  setPosts,\n  setPost\n} from './actions';\nimport { fetchPostsAndAuthors } from './fetchPostsAndAuthors';\nimport { getPost } from './getPost';\n\nclass Post extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: null,\n      time: null,\n      error: null,\n    };\n  }\n\n  componentDidMount() {\n    const timer = (time) => {\n      setTimeout(() => {\n        if (this.state.loading) {\n          time += 10;\n          this.setState({ time: time });\n          timer(time);\n        }\n      }, 10);\n    };\n\n    this.setState({ loading: true });\n    timer(0);\n\n    fetchPostsAndAuthors()\n      .then((posts) => {\n        const id = parseInt(this.props.match.params.postId);\n        const post = getPost(posts, id);\n        this.props.setPost(post);\n        this.props.setPosts(posts);\n      })\n      .catch(() => {\n        this.setState({ error: ':(' });\n      })\n      .finally(() => {\n        this.setState({ loading: false });\n      })\n  } // end componentDidMount\n\n  componentDidUpdate(prevProps) {\n    if (this.props.location !== prevProps.location) {\n      const id = parseInt(this.props.match.params.postId);\n      const post = getPost(this.props.posts, id);\n      this.props.setPost(post);\n    }\n  }\n\n  render() {\n    return (\n      <Container>\n        {this.state.loading\n          ? this.state.time\n          : this.state.error}\n        {\n          this.state.loading\n            ?\n          null\n            :\n          <div>\n            <div className=\"title\">{this.props.post.Title}</div>\n            <div className=\"author\">{this.props.post._authorName}</div>\n            <div className=\"content\">{this.props.post.Content}</div>\n          </div>\n        }\n      </Container>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  posts: state.posts,\n  post: state.post,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  setPosts: (posts) => {\n    return dispatch(setPosts(posts));\n  },\n  setPost: (post) => {\n    return dispatch(setPost(post));\n  },\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Post);\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { Container } from './Container';\nimport './Posts.css';\nimport {\n  setPosts,\n  setPost\n} from './actions';\nimport { fetchPostsAndAuthors } from './fetchPostsAndAuthors';\n\nclass Posts extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: null,\n      time: null,\n      error: null,\n    };\n  }\n\n  setPost(post) {\n    this.props.setPost(post);\n  }\n\n  renderPosts(posts) {\n    return posts.map((post) => {\n      return (\n        <div key={post.Id}>\n          <Link\n            to={`/posts/${post.Id}`}\n            onClick={() => this.setPost(post)}\n            className=\"title\"\n          >{post.Title}</Link>\n          <div className=\"author\">\n            {post.hasOwnProperty('_authorName')\n                ? post._authorName\n                : '?'}\n          </div>\n          <div className=\"content\">\n            {post.Content.slice(0, 230) + ' ...'}\n          </div>\n        </div>\n      );\n    });\n  }\n\n  componentDidMount() {\n    if (this.props.posts.length) {\n      return;\n    }\n\n    const timer = (time) => {\n      setTimeout(() => {\n        if (this.state.loading) {\n          time += 10;\n          this.setState({ time: time });\n          timer(time);\n        }\n      }, 10);\n    };\n\n    this.setState({ loading: true });\n    timer(0);\n\n    fetchPostsAndAuthors()\n      .then((posts) => {\n        this.props.setPosts(posts);\n      })\n      .catch(() => {\n        this.setState({ error: ':(' });\n      })\n      .finally(() => {\n        this.setState({ loading: false });\n      })\n  } // end componentDidMount\n\n  render() {\n    return (\n      <Container>\n        {this.state.loading\n          ? this.state.time\n          : this.state.error}\n        {this.state.loading\n          ? null\n          : this.renderPosts(this.props.posts)}\n      </Container>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  posts: state.posts,\n  post: state.post,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  setPosts: (posts) => {\n    return dispatch(setPosts(posts));\n  },\n  setPost: (post) => {\n    return dispatch(setPost(post));\n  },\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Posts);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { createStore } from 'redux';\nimport { reducers } from './reducers';\n// import * as serviceWorker from './serviceWorker';\n\nimport { App } from './App';\n\nconst rootElement = document.getElementById('root');\nconst store = createStore(reducers);\n\nReactDOM.render(\n  <App store={store} />,\n  rootElement\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n","import React from 'react';\nimport { Route, Link, Switch, HashRouter as Router } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport { Header } from './Header';\nimport About from './About';\nimport Home from './Home';\nimport Post from './Post';\nimport Posts from './Posts';\nimport './App.css';\n\nexport const App = (props) => {\n  return (\n    <Provider store={props.store}>\n      <Router>\n        <Header>\n          <div>\n            <span className='header-span'>\n              <Link to='/' className='header-link'>\n                HOME\n              </Link>\n            </span>\n            <span className='header-span'>\n              <Link to='/about' className='header-link'>\n                ABOUT\n              </Link>\n            </span>\n            <span className='header-span'>\n              <Link to='/posts' className='header-link'>\n                POSTS\n              </Link>\n            </span>\n          </div>\n        </Header>\n        <Switch>\n          <Route exact path='/' component={Home} />\n          <Route path='/about' component={About} />\n          <Route path='/posts/:postId' component={Post} />\n          <Route path='/posts' component={Posts} />\n        </Switch>\n      </Router>\n    </Provider>\n  );\n};\n"],"sourceRoot":""}
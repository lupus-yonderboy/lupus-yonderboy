(this["webpackJsonplupus-yonderboy"]=this["webpackJsonplupus-yonderboy"]||[]).push([[0],{29:function(t,e,n){t.exports=n(43)},38:function(t,e,n){},39:function(t,e,n){},40:function(t,e,n){},42:function(t,e,n){},43:function(t,e,n){"use strict";n.r(e);var s=n(0),o=n.n(s),r=n(17),a=n.n(r),u=n(19),c={posts:[],post:{}},i=n(15),l=n(14),p=n(6),h=(n(38),function(t){var e=t.children;return o.a.createElement("div",{className:"header"},e)}),f=n(9),m=n(10),d=n(12),b=n(11),v=n(13),y=(n(39),function(t){var e=t.children;return o.a.createElement("div",{className:"container"},o.a.createElement("div",null,e))}),O=function(t){return{type:"SET_POSTS",posts:t}},E=function(t){return{type:"SET_POST",post:t}},j=n(28),P=function(){var t="https://lupus-yonderboy-go-env.wv5mqwfbqj.us-east-1.elasticbeanstalk.com/",e=fetch(t+"posts").then((function(t){return t.json()})),n=fetch(t+"authors").then((function(t){return t.json()}));return Promise.all([e,n]).then((function(t){return function(t){var e=t.postsRes,n=t.authorsRes,s={},o=[],r=!0,a=!1,u=void 0;try{for(var c,i=n[Symbol.iterator]();!(r=(c=i.next()).done);r=!0){var l=c.value;s[l.Id]=l.Name}}catch(v){a=!0,u=v}finally{try{r||null==i.return||i.return()}finally{if(a)throw u}}var p=!0,h=!1,f=void 0;try{for(var m,d=e[Symbol.iterator]();!(p=(m=d.next()).done);p=!0){var b=m.value;o.push(Object(j.a)({_authorName:s[b.Author]},b))}}catch(v){h=!0,f=v}finally{try{p||null==d.return||d.return()}finally{if(h)throw f}}return o}({postsRes:t[0],authorsRes:t[1]})}))},S=function(t){function e(){return Object(f.a)(this,e),Object(d.a)(this,Object(b.a)(e).apply(this,arguments))}return Object(v.a)(e,t),Object(m.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.props.posts.length||P().then((function(e){t.props.setPosts(e)}))}},{key:"render",value:function(){return o.a.createElement(y,null,'"Chaos, Mr. Who," Lupus Yonderboy said. "That is our mode and modus. That is our central kick."')}}]),e}(s.Component),g=Object(p.b)((function(t){return{posts:t.posts}}),(function(t){return{setPosts:function(e){return t(O(e))}}}))(S),k=function(t){function e(){return Object(f.a)(this,e),Object(d.a)(this,Object(b.a)(e).apply(this,arguments))}return Object(v.a)(e,t),Object(m.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.props.posts.length||P().then((function(e){t.props.setPosts(e)}))}},{key:"render",value:function(){return o.a.createElement(y,null,"Hi.")}}]),e}(s.Component),N=Object(p.b)((function(t){return{posts:t.posts}}),(function(t){return{setPosts:function(e){return t(O(e))}}}))(k),T=function(t){function e(t){var n;return Object(f.a)(this,e),(n=Object(d.a)(this,Object(b.a)(e).call(this,t))).state={loading:null,time:null,error:null},n}return Object(v.a)(e,t),Object(m.a)(e,[{key:"componentDidMount",value:function(){var t=this;if(!this.props.post.Content){var e=parseInt(this.props.match.params.postId),n=function(t,e){return t.find((function(t){return t.Id===e}))};if(this.props.posts.length){var s=n(this.props.posts,e);this.props.setPost(s)}else{this.setState({loading:!0}),function e(n){setTimeout((function(){t.state.loading&&(n+=10,t.setState({time:n}),e(n))}),10)}(0),P().then((function(s){var o=n(s,e);t.props.setPost(o),t.props.setPosts(s)})).catch((function(){t.setState({error:":("})})).finally((function(){t.setState({loading:!1})}))}}}},{key:"render",value:function(){return o.a.createElement(y,null,this.state.loading?this.state.time:this.state.error,this.props.post.Content)}}]),e}(s.Component),C=Object(p.b)((function(t){return{posts:t.posts,post:t.post}}),(function(t){return{setPosts:function(e){return t(O(e))},setPost:function(e){return t(E(e))}}}))(T),w=(n(40),function(t){function e(t){var n;return Object(f.a)(this,e),(n=Object(d.a)(this,Object(b.a)(e).call(this,t))).state={loading:null,time:null,error:null},n}return Object(v.a)(e,t),Object(m.a)(e,[{key:"setPost",value:function(t){this.props.setPost(t)}},{key:"renderPosts",value:function(t){var e=this;return t.map((function(t){return o.a.createElement("div",{key:t.Id},o.a.createElement(i.b,{to:"/posts/".concat(t.Id),onClick:function(){return e.setPost(t)},className:"title"},t.Title),o.a.createElement("div",{className:"author"},t.hasOwnProperty("_authorName")?t._authorName:"?"),o.a.createElement("div",{className:"content"},t.Content.slice(0,230)+" ..."))}))}},{key:"componentDidMount",value:function(){var t=this;if(!this.props.posts.length){this.setState({loading:!0}),function e(n){setTimeout((function(){t.state.loading&&(n+=10,t.setState({time:n}),e(n))}),10)}(0),P().then((function(e){t.props.setPosts(e)})).catch((function(){t.setState({error:":("})})).finally((function(){t.setState({loading:!1})}))}}},{key:"render",value:function(){return o.a.createElement(y,null,this.state.loading?this.state.time:this.state.error,this.renderPosts(this.props.posts))}}]),e}(s.Component)),I=Object(p.b)((function(t){return{posts:t.posts,post:t.post}}),(function(t){return{setPosts:function(e){return t(O(e))},setPost:function(e){return t(E(e))}}}))(w),_=(n(42),document.getElementById("root")),M=Object(u.b)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_POSTS":return Object.assign({},t,{posts:e.posts});case"SET_POST":return Object.assign({},t,{post:e.post});default:return t}}));a.a.render(o.a.createElement((function(t){return o.a.createElement(p.a,{store:t.store},o.a.createElement(i.a,null,o.a.createElement(h,null,o.a.createElement("div",null,o.a.createElement("span",{className:"header-span"},o.a.createElement(i.b,{to:"/",className:"header-link"},"HOME")),o.a.createElement("span",{className:"header-span"},o.a.createElement(i.b,{to:"/about",className:"header-link"},"ABOUT")),o.a.createElement("span",{className:"header-span"},o.a.createElement(i.b,{to:"/posts",className:"header-link"},"POSTS")))),o.a.createElement(l.c,null,o.a.createElement(l.a,{exact:!0,path:"/",component:N}),o.a.createElement(l.a,{path:"/about",component:g}),o.a.createElement(l.a,{path:"/posts/:postId",component:C}),o.a.createElement(l.a,{path:"/posts",component:I}))))}),{store:M}),_)}},[[29,1,2]]]);
//# sourceMappingURL=main.5a771b75.chunk.js.map
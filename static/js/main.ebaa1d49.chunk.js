(this["webpackJsonplupus-yonderboy"]=this["webpackJsonplupus-yonderboy"]||[]).push([[0],{110:function(t,e){},120:function(t,e,n){},121:function(t,e,n){"use strict";n.r(e);var a=n(0),s=n.n(a),r=n(22),o=n.n(r),i=n(24),c={posts:[],post:{},darkMode:!0},u=n(8),l=n(9),p=n(11),h=n(10),d=n(12),m=n(16),f=n(15),b=n(4),v=(n(70),function(t){var e=t.children;return s.a.createElement("div",{className:"header"},e)}),O=function(t){return{type:"SET_POSTS",posts:t}},y=function(t){return{type:"SET_POST",post:t}},E=(n(71),function(t){var e=t.children;return s.a.createElement("div",{className:"container"},s.a.createElement("div",null,e))}),j=n(60),k=function(){var t="https://lupus-yonderboy-go-env.wv5mqwfbqj.us-east-1.elasticbeanstalk.com/",e=fetch(t+"posts").then((function(t){return t.json()})),n=fetch(t+"authors").then((function(t){return t.json()}));return Promise.all([e,n]).then((function(t){return function(t){var e=t.postsRes,n=t.authorsRes,a={},s=[],r=!0,o=!1,i=void 0;try{for(var c,u=n[Symbol.iterator]();!(r=(c=u.next()).done);r=!0){var l=c.value;a[l.Id]=l.Name}}catch(v){o=!0,i=v}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}var p=!0,h=!1,d=void 0;try{for(var m,f=e[Symbol.iterator]();!(p=(m=f.next()).done);p=!0){var b=m.value;s.push(Object(j.a)({_authorName:a[b.Author]},b))}}catch(v){h=!0,d=v}finally{try{p||null==f.return||f.return()}finally{if(h)throw d}}return s}({postsRes:t[0],authorsRes:t[1]})}))},g=function(t){function e(){return Object(u.a)(this,e),Object(p.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.props.posts.length||k().then((function(e){t.props.setPosts(e)}))}},{key:"render",value:function(){return s.a.createElement(E,null,'"Chaos, Mr. Who," Lupus Yonderboy said. "That is our mode and modus. That is our central kick."')}}]),e}(a.Component),S=Object(b.b)((function(t){return{posts:t.posts}}),(function(t){return{setPosts:function(e){return t(O(e))}}}))(g),P=function(t){function e(){return Object(u.a)(this,e),Object(p.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.props.posts.length||k().then((function(e){t.props.setPosts(e)}))}},{key:"render",value:function(){return s.a.createElement(E,null,"Hi.")}}]),e}(a.Component),D=Object(b.b)((function(t){return{posts:t.posts}}),(function(t){return{setPosts:function(e){return t(O(e))}}}))(P),T=n(20),M=n(58),N=(n(56),function(t,e){return t.find((function(t){return t.Id===e}))}),C=function(t){function e(t){var n;return Object(u.a)(this,e),(n=Object(p.a)(this,Object(h.a)(e).call(this,t))).state={loading:null,time:null,error:null},n}return Object(d.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){var t=this;if(this.props.posts.length){var e=parseInt(this.props.match.params.postId),n=N(this.props.posts,e);this.props.setPost(n)}else{this.setState({loading:!0}),function e(n){setTimeout((function(){t.state.loading&&(n+=10,t.setState({time:n}),e(n))}),10)}(0),k().then((function(e){var n=parseInt(t.props.match.params.postId),a=N(e,n);t.props.setPost(a),t.props.setPosts(e)})).catch((function(){t.setState({error:":("})})).finally((function(){t.setState({loading:!1})}))}}},{key:"componentDidUpdate",value:function(t){if(this.props.location!==t.location){var e=parseInt(this.props.match.params.postId),n=N(this.props.posts,e);this.props.setPost(n)}}},{key:"render",value:function(){var t=new M.Parser;return s.a.createElement(E,null,this.state.loading?this.state.time:this.state.error,this.state.loading?null:s.a.createElement("div",null,s.a.createElement("h1",{className:"title"},this.props.post.Title),s.a.createElement("div",{className:"author"},this.props.post._authorName),s.a.createElement("div",{className:"date"},T(this.props.post.DateCreated).utc().format("MMM DD, YYYY [at] hh:mma")," ",this.props.post.DateUpdated===this.props.post.DateCreated?null:"| updated ".concat(T(this.props.post.DateUpdated).utc().format("MMM DD, YYYY [at] hh:mma"))," UTC"),s.a.createElement("div",{className:"content"},t.parse(this.props.post.Content))))}}]),e}(a.Component),I=Object(b.b)((function(t){return{posts:t.posts,post:t.post}}),(function(t){return{setPosts:function(e){return t(O(e))},setPost:function(e){return t(y(e))}}}))(C),Y=function(t){function e(t){var n;return Object(u.a)(this,e),(n=Object(p.a)(this,Object(h.a)(e).call(this,t))).state={loading:null,time:null,error:null},n}return Object(d.a)(e,t),Object(l.a)(e,[{key:"setPost",value:function(t){this.props.setPost(t)}},{key:"renderPosts",value:function(t){var e=this;return t.sort((function(t,e){return new Date(e.DateCreated)-new Date(t.DateCreated)})).map((function(t){var n=t.Content.replace(/<p>/g,"").replace(/<\/p>/g,"");return s.a.createElement("div",{key:t.Id},s.a.createElement(m.b,{to:"/posts/".concat(t.Id),onClick:function(){return e.setPost(t)},className:"index-title"},t.Title),s.a.createElement("div",{className:"index-author"},t.hasOwnProperty("_authorName")?t._authorName:"?"," | ".concat(T(t.DateCreated).utc().format("MMM DD, YYYY"))),s.a.createElement("div",{className:"index-content"},function(t){for(var e=[],n=t.length;n>0;n--)e.push(t[n]);var a=e.join(""),s=229-(a.indexOf(".")||a.indexOf(":")||a.indexOf(";")||a.indexOf("\u2014")||a.indexOf(" "));return"".concat(t.slice(0,s)," ...")}(n.slice(0,230))))}))}},{key:"componentDidMount",value:function(){var t=this;if(!this.props.posts.length){this.setState({loading:!0}),function e(n){setTimeout((function(){t.state.loading&&(n+=10,t.setState({time:n}),e(n))}),10)}(0),k().then((function(e){t.props.setPosts(e)})).catch((function(){t.setState({error:":("})})).finally((function(){t.setState({loading:!1})}))}}},{key:"render",value:function(){return s.a.createElement(E,null,this.state.loading?this.state.time:this.state.error,this.state.loading?null:this.renderPosts(this.props.posts))}}]),e}(a.Component),x=Object(b.b)((function(t){return{posts:t.posts,post:t.post}}),(function(t){return{setPosts:function(e){return t(O(e))},setPost:function(e){return t(y(e))}}}))(Y),_=(n(120),function(t){function e(){return Object(u.a)(this,e),Object(p.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return s.a.createElement(b.a,{store:this.props.store},s.a.createElement(m.a,null,s.a.createElement("div",{className:this.props.darkMode?"dark":"light"},s.a.createElement(v,null,s.a.createElement("div",null,s.a.createElement("span",{className:"header-span"},s.a.createElement(m.b,{to:"/",className:"header-link"},"HOME")),s.a.createElement("span",{className:"header-span"},s.a.createElement(m.b,{to:"/about",className:"header-link"},"ABOUT")),s.a.createElement("span",{className:"header-span"},s.a.createElement(m.b,{to:"/posts",className:"header-link"},"POSTS")),s.a.createElement("span",{className:"header-span"},s.a.createElement(m.b,{to:"#",className:"header-link",onClick:this.props.darkMode?this.props.setLight:this.props.setDark},this.props.darkMode?"LIGHT":"DARK")))),s.a.createElement(f.c,null,s.a.createElement(f.a,{exact:!0,path:"/",component:D}),s.a.createElement(f.a,{path:"/about",component:S}),s.a.createElement(f.a,{path:"/posts/:postId",component:I}),s.a.createElement(f.a,{path:"/posts",component:x})))))}}]),e}(a.Component)),w=Object(b.b)((function(t){return{darkMode:t.darkMode}}),(function(t){return{setDark:function(){return t({type:"SET_DARK"})},setLight:function(){return t({type:"SET_LIGHT"})}}}))(_),R=document.getElementById("root"),L=Object(i.b)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_POSTS":return Object.assign({},t,{posts:e.posts});case"SET_POST":return Object.assign({},t,{post:e.post});case"SET_DARK":return Object.assign({},t,{darkMode:!0});case"SET_LIGHT":return Object.assign({},t,{darkMode:!1});default:return t}}));o.a.render(s.a.createElement(w,{store:L}),R),document.querySelector("body").style="margin: 0;"},56:function(t,e,n){},61:function(t,e,n){t.exports=n(121)},70:function(t,e,n){},71:function(t,e,n){}},[[61,1,2]]]);
//# sourceMappingURL=main.ebaa1d49.chunk.js.map